# 移动端开发

有两种方案:

1. 单独制作(主流)
2. 响应式设计

## 流式布局

通过设置盒子的百分比设置来布局, 通常设置min-width等属性来限制布局

## flex布局

- 优点: 操作方便, 适用于移动端

- 操作: 在父盒子中设置: display: flex;

- 注意: 设置之后, 子元素float, clear和vertical-align属性将失效.

- 原理:

    1. 用来给盒子提供最大的灵活性, 任何一个容器都可以指定为flex布局
    2. 给父盒子添加flex属性, 来控制子盒子的位置和排列方式

### flex布局父项常见属性

- flex-direction: 设置主轴方向

    1. 主轴(默认X轴)和侧轴(默认Y轴)

    2. 元素跟着主轴来排列

    3. 值:

        1. row 从左到右(默认 1234)
        2. row-reverse 从右到左(4321)
        3. column 从上至下
        4. column-reverse 从下至上

- justify-content :设置子元素在主轴上的排列方式

    值:

    1. flex-start 按主轴方向排列(默认)
    2. flex-end 按逆主轴方向排列(与row-reverse不同的是, 它子元素的方向仍为1234排列, 只是整体靠右)
    3. center 居中对齐
    4. space-around 平分剩余空间
    5. space-between 先两边贴边, 再平分剩余空间

- flex-wrap 设置子元素是否换行

    值:

    1. nowrap 不换行(默认, 如果排列不下会改变子元素的大小)
    2. wrap 换行

- align-items 设置侧轴上的子元素排列方式(单行)

    值:

    1. flex-start 从上到下
    2. flex-end 从下到上
    3. center 挤在一起居中(垂直居中)
    4. stretch 拉伸(默认,子盒子不要给高度)
 
- align-content 设置侧轴上的子元素排列方式(多行)

    值:

    1. flex-start 按侧轴方向(默认)
    2. flex-end 按逆侧轴方向
    3. center 在侧轴中间显示
    4. space-around 子项在侧轴平分剩余空间
    5. space-between 子项在侧轴先两头分布, 再平分剩余空间
    6. stretch 设置子项元素高度平分父元素高度

- flex-flow 设置主轴方向(first)和是否换行(second)

### flex布局子项常见属性

- flex: number (默认为0)---定义子项目分配剩余空间, 用flex来表示占多少份数

- align-self: 控制子项自己在侧轴上的排列方式

    其值与align-items相同

- order: number(数值越小越靠前) 定义项目的排列顺序

## rem适配布局

### rem单位

- em 是一个相对单位, 相对父元素字体大小

- rem 是一个相对单位, 相对根元素字体大小

    优点: 可以根据修改html里面的文字大小来改变页面的大小

### 媒体查询

媒体查询是CSS3的新语法, 使用@media查询, 可以根据不同的媒体类型定义不同的样式

- 语法:

    @media mediatype and|not|only (media feature){
        css code;
    }

    1. mediatype 媒体类型
        
        all 用于所有设备

        print 用于打印机和打印预览

        screen 用于电脑屏幕, 平板电脑, 智能手机

    2. 关键字and not only, 一般使用and

    3. media feature 媒体特性 必须有小括号包含

    示例:

        @media screen and (max-width: 800px){

        }   /*在屏幕上 并且 最大的宽度小于等于 800像素 来设置样式*/
    
- 引入规则

        <link rel="stylesheet" href="index.css" media="screen and (min-width: 300px)">

        <link rel="stylesheet" href="index.css" media="screen and (min-width: 600px)">

### rem实际开发适配方案

1. 按照设计稿与设备宽度的比例, 动态计算并设置html根标签的font-size大小;
2. css中, 设计稿元素的宽, 高, 相对位置等取值, 按照同等比例换算为rem为单位的值;

- 技术方案1

    1. less
    2. 媒体查询
    3. rem

- 技术方案2

    1. flexible.js
    2. rem

#### 方案一

- 设计稿常见尺寸

- 动态设置html标签font-size大小

    ① 假设设计稿是750px

    ② 假设我们把整个屏幕划分为15等份（划分标准不一可以是20份也可以是10等份）
    ③ 每一份作为html字体大小，这里就是50px

    ④ 那么在320px设备的时候，字体大小为320/15 就是  21.33px

    ⑤ 用我们页面元素的大小 除以不同的 html 字体大小会发现他们比例还是相同的
    ⑥ 比如我们以 750为标准设计稿

    ⑦ 一个100*100像素的页面元素 在  750屏幕下，  就是 100 / 50  转换为rem  是  2rem * 2 rem  比例是 1比1

    ⑧ 320屏幕下，  html 字体大小为 21.33   则 2rem =  42.66px  此时宽和高都是  42.66  但是 宽和高的比例还是 1比1

    ⑨ 但是已经能实现不同屏幕下  页面元素盒子等比例缩放的效果

- 计算rem值

    显示的大小 / html的文字大小

#### 方案二

手机淘宝团队出的简洁高效 移动端适配库

我们再也不需要在写不同屏幕的媒体查询，因为里面js做了处理

它的原理是把当前设备划分为10等份，但是不同设备下，比例还是一致的。

我们要做的，就是确定好我们当前设备的html 文字大小就可以了

比如当前设计稿是 750px， 那么我们只需要把 html 文字大小设置为 75px(750px / 10) 就可以里面页面元素rem值： 页面元素的px 值 /  75  

剩余的，让flexible.js来去算

当屏幕超过最大时, 需要设置html的字体大小    !import

github地址：https://github.com/amfe/lib-flexible

- 修改cssroot: 在设置中搜索cssroot进行更改

## 响应式布局

- 原理: 使用媒体查询针对不同宽度的设备进行布局和样式的设置, 从而适配不同设备的目的.

- 响应式布局容器

    1. 响应式需要一个父级作为布局容器. 来配合子集元素来实现变化效果.
    2. 原理就是在不同屏幕下, 通过媒体查询来改变这个布局容器的大小, 再改变里面子元素的排列方式和大小, 从而实现不同屏幕下, 看到不同的页面布局和样式变化

- 一般尺寸的划分

    1. 手机(小于768px): width: 100%;
    2. 小屏幕(大于等于768px): width: 750px;
    3. 桌面显示器(大于等于992px): width: 970px;
    4. 大桌面显示器(大于等于1200px): width: 1170px;


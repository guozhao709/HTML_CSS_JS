<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      (function () {
        // 需求 1s后控制台输出 111, 2s后输出 222, 3s后输出 333
        function one() {
          setTimeout(() => {
            console.log("111");
            iterator.next();
          }, 1000);
        }

        function two() {
          setTimeout(() => {
            console.log("222");
            iterator.next();
          }, 2000);
        }

        function three() {
          setTimeout(() => {
            console.log("333");
          }, 3000);
        }

        function* gen() {
          yield one();
          yield two();
          yield three();
        }

        let iterator = gen();

        iterator.next();
      })();

      (function () {
        // 模拟获取 用户数据 订单数据 商品数据, 按照顺序每一秒后获得, 并在生成器函数中打印

        function getUsers() {
          setTimeout(() => {
            let data = "用户数据";
            iterator.next(data);
          }, 1000);
        }

        function getOrders() {
          setTimeout(() => {
            let data = "订单数据";
            iterator.next(data);
          }, 1000);
        }

        function getGoods() {
          setTimeout(() => {
            let data = "商品数据";
            iterator.next(data);
          }, 1000);
        }

        function* gen() {
          let users = yield getUsers();
          console.log(users);
          let orders = yield getOrders();
          console.log(orders);
          let goods = yield getGoods();
          console.log(goods);
        }

        let iterator = gen();

        iterator.next();
      })();
    </script>
  </body>
</html>

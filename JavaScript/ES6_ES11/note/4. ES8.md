# async/await

async 函数

1. 返回值为 promise 对象
2. promise 对象的结果由 async 函数的返回值决定

```javascript

async function myFunc() {
    return 1;   // 函数内部的return只要不是promise对象，返回的promise对象就直接resolve(成功)

    throw new Error('出错了'); // 若函数内部抛出错误, 则reject(失败), 返回一个失败的promise对象

    return new Promise((resolve, reject) => {
        resolve(1); 
    }); // 若函数内部返回一个promise对象, 则resolve(成功), 返回一个成功的promise对象, 成功的值就是函数内部resolve的参数的值, 1
}

console.log(myFunc()); // Promise {<resolved>: 1}
```

await 关键字

1. await 关键字只能在 async 函数中使用
2. await 右侧的表达式一般为 promise 对象
3. await 返回 的是  promise 成功的值
4. 如果 promise 失败, 则会抛出异常, 需要通过 try...catch 捕获异常

# 对象方法的扩展

```javascript

const school = {
    name: 'xxx',
    cities: ['北京', '上海', '广州'],
    classes: ['语文', '数学', '英语'],
}

// 获取对象所有的键
console.log(Object.keys(school)); // ['name', 'cities', 'classes']
// 获取对象所有的值
console.log(Object.values(school)); // ['xxx', ['北京', '上海', '广州'], ['语文', '数学', '英语']]
// 获取对象所有键值对
console.log(Object.entries(school)); // [['name', 'xxx'], ['cities', ['北京', '上海', '广州']], ['classes', ['语文', '数学', '英语']]]
const m = new Map(Object.entries(school)); // 转换为 Map 对象

console.log(Object.getOwnPropertyDescriptors(school)); //获取对象 属性的描述
```
